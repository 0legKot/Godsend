<div class="wrap rel">
    <div class="back-btn" (click)="gotoArticles(article)">
        <fa name="long-arrow-left"></fa> Back to articles
    </div>
    <br />
    <br />
    <div *ngIf="article?.info != null">
        <p class="h3 title">
            <godsend-input-output [(ngModel)]="article.info.name" class="edit-art-input" [edit]="edit"></godsend-input-output>
        </p>
        <div>
            <godsend-stars [readOnly]="!authenticated" [value]="article.info.rating" (valueChanged)="saveRating($event)"></godsend-stars>
            <div *ngIf="userRating != null else notRated">
                <span>Your rating: {{ userRating }}</span>
            </div>
            <ng-template #notRated>
                <div *ngIf="authenticated else notAuthenticated">
                    <span>Not rated yet</span>
                </div>
            </ng-template>
            <ng-template #notAuthenticated>
                <div>
                    <span>Log in to rate</span>
                </div>
            </ng-template>
            &nbsp; <fa name="eye"></fa> : {{ article.info.watches }}
        </div>
        <p>
            <godsend-entity-ratings [clas]="clas" [id]="article?.id"></godsend-entity-ratings>
        </p>
        <p class="h5 author">
            - {{ article.info.author?.name }}
        </p>
        <br />
        <p>
            <godsend-input-output [(ngModel)]="article.content" huge="true" class="edit-art-txtarea" [edit]="edit"><span class="h4" [innerHtml]="article.content"></span></godsend-input-output>
        </p>
        <br />
        <p class="h5" *ngFor="let hash of article.info.tags">
            #{{ hash }}&nbsp;
        </p>
        <p class="h5">
            Created: {{ article.info.created | date : 'dd-MMM-yyyy HH:mm' }}
        </p><br />
    </div>
    <div class="edit-art">
        <div class="inline-block edit-btns" id="edit" *ngIf="!edit" (click)="editMode()"> Edit</div>
        <div class="inline-block edit-btns" id="save" *ngIf="edit" (click)="save()"> Save</div>
        <div class="inline-block edit-btns" id="discard" *ngIf="edit" (click)="discard()"> Discard</div>
    </div>
    <br />
</div>
