<h1>Product detail</h1>
<br />
<br />
<br />
<div class="wrap rel">
    <br />
    <br />

    <div class='container-fluid'>
        <div class='row'>
            <div class='col-lg-3 col-md-4 col-sm-6 col-xs-12 products'>
                <div *ngIf="!edit else enterName" class="prod-name">{{ data?.product?.info?.name }}</div>
                <ng-template #enterName>
                    <input [(ngModel)]="data.product.info.name" />
                </ng-template>
                
                <div class="photo">
                </div>
                <div class="rating">
                    <godsend-stars [value]="data?.product?.info?.rating"></godsend-stars>
                    <p class="pull-right" [ngStyle]="{'color': '#003e09' }"><fa name="eye"></fa> : {{ data?.product?.info?.watches }}</p>
                </div>
            </div>
            <div class='col-lg-7 col-md-6 col-sm-5 col-xs-12 products rel'>
                <div class="prod-info">
                    <div>
                        <label>Description: </label>
                        <p *ngIf="!edit else enterDescription">{{ data?.product?.info?.description }}</p>
                        <ng-template #enterDescription>
                            <input [(ngModel)]="data.product.info.description" />
                        </ng-template>
                    </div>
                    <div class="buy" (click)="buy()">
                        <p class="inline-block"><fa name="cart-arrow-down"></fa></p>
                        <p class="inline-block">Buy!</p>
                    </div>
                    <div (click)="deleteProduct()">
                        <p class="inline-block" >Delete!!!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button *ngIf="!edit" (click)="editMode()">EDIT</button>
    <button *ngIf="edit" (click)="save()">SAVE</button>
    <button *ngIf="edit" (click)="discard()">DISCARD</button>

    <select [(ngModel)]="selectedSupplier" *ngIf="data != null">
        <option *ngFor="let s of data?.suppliers" [ngValue]="s">{{ s.supplier?.info?.name }} for {{ s.price }}</option>
    </select>
    <br />
    <label>Quantity: </label><input type="number" min="1" step="1" [(ngModel)]="quantity" />
    <br />
    <span>From {{ selectedSupplier?.supplier?.info?.name }}, for {{ price }}</span>



    <div class="back-btn" (click)="gotoProducts(prod)">
        <fa name="long-arrow-left"></fa> Back to products
    </div>
</div>
