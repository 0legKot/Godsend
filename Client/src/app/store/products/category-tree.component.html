<style>
    .example-tree-invisible {
        display: none;
    }

    .example-tree ul,
    .example-tree li {
        margin-top: 0;
        margin-bottom: 0;
        list-style-type: none;
    }
</style>

<mat-tree [dataSource]="nestedDataSource" [treeControl]="nestedTreeControl" class="example-tree">
    <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
        <li class="mat-tree-node">
            <button class="btn-primary-outline" disabled>
                <fa name="bullseye"></fa>
            </button>
            <span>{{ node.cat.name }}</span>
            <button (click)="selectCategory(node.cat)">Select</button>
        </li>
    </mat-tree-node>

    <mat-nested-tree-node *matTreeNodeDef="let node; when: hasNestedChild">
        <li>
            <div class="mat-tree-node">
                <button class="btn-primary-outline clickable" matTreeNodeToggle
                        [attr.aria-label]="'toggle ' + node.cat.name">
                    <fa [name]="nestedTreeControl.isExpanded(node) ? 'chevron-down' : 'chevron-right'"></fa>
                </button>
                {{ node.cat.name }}
                <button (click)="selectCategory(node.cat)">Select</button>
            </div>
            <ul [class.example-tree-invisible]="!nestedTreeControl.isExpanded(node)">
                <ng-container matTreeNodeOutlet></ng-container>
            </ul>
        </li>
    </mat-nested-tree-node>
</mat-tree>
